{"basePath":"/csp/gateway","consumes":["application/json"],"definitions":{"AudienceResponse":{"example":{"audience":"{orgID: [fe87436e-7349-4a79-b496-4a7b8d1ef722] orgRoles: [ service_owner ]}"},"properties":{"audience":{"description":"List of key-value pairs that would specify the audience for the message type. Valid combanitions: orgID: [orgID1, orgID2]  + orgRoles: [service_owner] OR a list of org IDs: orgID: [orgID1, orgID2]","type":"string"}},"type":"object"},"CreateFilterAttributesRequest":{"properties":{"attributes":{"description":"Filter attributes of a messageType. Key-value pairs with key and value defined as string, where value represents data type of the key. Valid data types are 'number', 'string' and 'string.array'","example":{"credits":{"type":"number"},"serviceID":{"type":"number"},"serviceName":{"type":"string"},"serviceType":{"type":"string.array"}}},"publisherID":{"description":"ID generated by POS identifying the publisher","type":"string"}},"required":["attributes","publisherID"],"type":"object"},"CreateMessageAudienceRequest":{"example":{"audience":"{orgID: [fe87436e-7349-4a79-b496-4a7b8d1ef722] orgRoles: [ service_owner ]}","publisherID":"www.example-callback.com"},"properties":{"audience":{"description":"List of key-value pairs that would specify the audience for the message type. Valid combanitions: orgID: [orgID1, orgID2]  + orgRoles: [service_owner] OR a list of org IDs: orgID: [orgID1, orgID2]","type":"string"},"publisherID":{"description":"ID generated by POS identifying the publisher","type":"string"}},"type":"object"},"CreateMessageType":{"properties":{"description":{"description":"The description for the message type","type":"string"},"messageType":{"description":"The type of the message","type":"string"},"nsChannels":{"description":"Channels for the messge type. Webhook channel is enabled by default","example":["EMAIL","INAPP"],"items":{"type":"string"},"type":"array"},"publisherID":{"description":"ID generated by POS identifying the publisher","type":"string"}},"required":["messageType","publisherID"],"type":"object"},"CreateSubscriptionRequest":{"properties":{"clientID":{"description":"Client defined identifier. To be used if the service is not making the request","type":"string"},"endpoint":{"type":"string"},"messageType":{"description":"Message type that the subscriber wants to subscribe to","type":"string"}},"required":["messageType","endpoint"],"type":"object"},"DeleteSubscriberDLQMessagesRequest":{"properties":{"messages":{"example":[{"messageQueueID":"string","receiptHandle":"string"}],"items":{"type":"object"},"type":"array"}},"type":"object"},"ErrorResponse":{"properties":{"code":{"format":"int64","type":"integer"},"message":{"type":"string"}},"required":["message"],"type":"object"},"EventsResponse":{"properties":{"events":{"items":{"properties":{"action":{"type":"string"},"creationDate":{"description":"Format is YYYY-MM-DD","type":"string"},"creationTime":{"description":"Format is 2019-04-08T21:25:38-07:00. Notice the TimeZone information at the end of the example","type":"string"},"data":{"description":"This field is basic map (key-value pairs)","example":{"k1":"v1","payload":{}},"type":"object"},"id":{"format":"uuid","type":"string"},"ip":{"type":"string"},"message":{"type":"string"},"messageID":{"type":"string"},"messageType":{"type":"string"},"publisherID":{"type":"string"},"requestID":{"type":"string"},"requester":{"type":"string"},"resource":{"type":"string"},"statusCode":{"type":"string"},"subscriberID":{"type":"string"},"subscriptionID":{"type":"string"},"type":{"type":"string"},"uri":{"type":"string"}},"type":"object"},"type":"array"},"stats":{"properties":{"count":{"type":"integer"}},"type":"object"}},"type":"object"},"FilterAttributesResponse":{"properties":{"attributes":{"example":{"key":{"type":"string"}},"type":"object"},"messageType":{"type":"string"}},"required":["messageType","attributes"],"type":"object"},"GetFilterAttributesResponse":{"properties":{"attributes":{"example":{"key":{"type":"string"}},"type":"object"}},"required":["attributes"],"type":"object"},"GetSubscriberDLQMessagesResponse":{"properties":{"results":{"example":{"message":{"message":"object","messageID":{"type":"string"},"messageType":{"type":"string"},"publisherID":{"type":"string"}},"messageQueueID":{"type":"string"},"receiptHandle":{"type":"string"}},"type":"object"},"totalResults":{"type":"integer"}},"required":["totalResults","results"],"type":"object"},"ModifyFilterAttributesRequest":{"properties":{"attributes":{"description":"Filter attributes of a messageType. Key-value pairs with key and value defined as string, where value represents data type of the key.Valid data types are number', 'string' and 'string.array'","example":{"attributesToAdd":{"serviceSubType":{"type":"string.array"}},"attributesToRemove":["serviceID"]},"type":"object"},"publisherID":{"description":"ID generated by POS identifying the publisher","type":"string"}},"required":["attributes","publisherID"],"type":"object"},"ModifyPublisherRequest":{"example":{"callbackURI":"www.example-callback.com","role":"service_owner"},"properties":{"callbackURI":{"description":"Callback URI of the publisher","type":"string"},"role":{"description":"Authorized csp role for publishing on behalf of this publisher; can be any csp role [org_owner/org_member/service_owner etc.]","type":"string"}},"type":"object"},"ModifySubscriberAuthRequest":{"example":{"authParams":{"authTokenName":"Authorization","oauthEndpoint":"http://localhost:8080/auth","password":"OAuthPassword","username":"OAuthUser"},"authType":"OAUTHBASIC"},"properties":{"authParams":{"additionalProperties":{"type":"string"},"type":"object"},"authType":{"description":"The authorization type for the subscriber endpoints","enum":["OAUTHBASIC","BASIC"],"type":"string"}},"required":["authType","authParams"],"type":"object"},"ModifySubscriberRequest":{"example":{"enableDeadLetterQueue":true},"properties":{"enableDeadLetterQueue":{"description":"Enable dead letter queue by setting value as true. Enabling dead letter queue saves subscribed messages for a maximum duration of 14 days when subscription endpoint fails to receive messages.","type":"boolean"}},"type":"object"},"ModifySubscription":{"properties":{"attributes":{"description":"Filter attributes of a messageType. Key-value pairs with key defined as string and value is of type number, string and string.array. Values defined in attributesToAdd adds new values, appends existing values of a key. Values defined in attributesToRemove are removed from a key. All values for a key are removed when attributesToRemove is specified with only keys. Numeric range values are specified in the format [{'numeric':['\u003e', x, '\u003c=', y]}] or [{'numeric':['\u003e', x]}] or [{'numeric':['\u003c=', y]}] or [{'numeric':['=', x]}]","example":{"attributesToAdd":{"credits":[{"numeric":["\u003e",0,"\u003c=",100]}],"serviceID":[{"numeric":["=",1001]}],"serviceName":"Notification Service"},"attributesToRemove":{"serviceID":null,"serviceName":"IoT Service"}},"type":"object"},"clientID":{"description":"Client defined identifier. To be used if the service is not making the request","type":"string"},"endpoint":{"description":"URI where the subscriber expects to receive the  messages","type":"string"}},"type":"object"},"PatchMessageType":{"properties":{"description":{"description":"The description for the message type","type":"string"},"nsChannels":{"description":"Channels for the messge type. Webhook channel is enabled by default","example":["EMAIL","INAPP"],"items":{"type":"string"},"type":"array"}},"type":"object"},"PublishMessage":{"properties":{"attributes":{"description":"Filter attributes of a messageType. Key-value pairs with key defined as string and value is of type 'number', 'string' and 'string.array'","example":{"credits":90,"serviceID":1001,"serviceName":"Notification Service","serviceType":["Saas","Paas"]}},"clientID":{"description":"Client defined identifier. To be used if the service is not making the request","type":"string"},"message":{"description":"The message - can be any json object. The example below for email service integration only (expecting notificationData object). ","example":{"notificationData":{"attachments":[{"content":"L2ltYWdlcy90ZXN0LmpwZw==","content_id":"Banner","disposition":"inline","filename":"ns.jpg","type":"text/html"},{"content":"aHR0cDovL2V4YW1wbGUuY29tLw==","disposition":"attachment","filename":"ns url","type":"text/html"}],"recipients":{"orgID":["example-org-id"],"roles":["service_owner"]},"substitutions":{"promo_code":"PROMO1","service_name":"Notification"}}}},"messageID":{"description":"Message ID","type":"string"},"messageType":{"description":"The type of message","type":"string"},"publisherID":{"description":"ID generated by POS identifying the publisher","type":"string"}},"required":["publisherID","messageID","messageType","message"],"type":"object"},"PublishMessageResponse":{"properties":{"messageID":{"description":"Message ID","type":"string"}},"required":["messageID"],"type":"object"},"Publisher":{"properties":{"callbackURI":{"description":"Callback URI of the publisher","type":"string"},"clientID":{"description":"Client defined identifier","type":"string"},"messageTypes":{"description":"The publisher's message types","items":{"type":"string"},"type":"array"},"orgID":{"description":"Org ID of the publisher","type":"string"},"publisherID":{"description":"ID generated by the POS identifying the publisher","type":"string"},"role":{"description":"Authorized csp role for publishing on behalf of this publisher; can be any csp role [org_owner/org_member/service_owner etc.]","type":"string"}},"required":["publisherID","clientID","orgID","role","callbackURI","messageTypes"],"type":"object"},"PublisherID":{"properties":{"publisherID":{"description":"ID generated by the POS identifying the publisher","example":"publisher123","type":"string"}},"required":["publisherID"],"type":"object"},"PublisherRequest":{"example":{"callbackURI":"www.example-uri.com","clientID":"EXAMPLE_CLIENT_ID","messageTypes":["msg_type1","msg_type2"],"orgID":"example-org-id","role":"org_owner"},"properties":{"callbackURI":{"description":"Callback URI of the publisher","type":"string"},"clientID":{"description":"Client defined identifier","type":"string"},"messageTypes":{"description":"List of messageTypes which will be created for this publisher only","items":{"type":"string"},"type":"array"},"orgID":{"description":"Org ID of the publisher","type":"string"},"role":{"description":"Authorized csp role for publishing on behalf of this publisher; can be any csp role [org_owner/org_member/service_owner etc.]","type":"string"}},"required":["clientID","orgID","role"],"type":"object"},"Subscriber":{"properties":{"authType":{"description":"The authorization type for the subscriber endpoints","enum":["OAUTHBASIC"],"type":"string"},"clientID":{"description":"Client defined identifier","type":"string"},"orgID":{"description":"Org ID of the subscriber","type":"string"},"role":{"description":"Authorized csp role for publishing on behalf of this publisher; can be any csp role [org_owner/org_member/service_owner etc.]","type":"string"},"subscriberID":{"description":"ID identifying the subscriber","type":"string"}},"required":["subscriberID","clientID"],"type":"object"},"SubscriberID":{"properties":{"subscriberID":{"description":"ID identifying the subscriber","example":"Subscriber123","type":"string"}},"required":["subscriberID"],"type":"object"},"SubscriberRequest":{"example":{"clientID":"EXAMPLE_CLIENT_ID","orgID":"example-org-id","role":"org_owner"},"properties":{"clientID":{"description":"Client defined identifier","type":"string"},"enableDeadLetterQueue":{"description":"Enable dead letter queue by setting value as true. Enabling dead letter queue saves subscribed messages for a maximum duration of 14 days when subscription endpoint fails to receive messages.","type":"boolean"},"orgID":{"description":"Org ID of the subscriber","type":"string"},"role":{"description":"Authorized csp role to act on behalf on the subscriber. Can be any csp role [org_owner/org_member/service_owner etc.]","type":"string"}},"required":["clientID"],"type":"object"},"Subscription":{"example":{"endpoint":"http://test_endpoint.com","messageType":"test_message_type","subscriptionID":"e6981b23-c9c4-497d-82a9-78f99355f3e0"},"properties":{"attributes":{"description":"Filter attributes of a messageType. Key-value pairs with key defined as string and value of type number, string or string.array","example":{"key":["value"]}},"endpoint":{"description":"URI where the subscriber expects to receive the  messages","type":"string"},"messageType":{"description":"Message type that the subscription is for","type":"string"},"subscriptionID":{"description":"ID identifying the subscription generated by POS","type":"string"}},"required":["subscriptionID","messageType","endpoint"],"type":"object"},"SubscriptionID":{"properties":{"subscriptionID":{"description":"ID identifying the subscription generated by POS","type":"string"}},"required":["subscriptionID"],"type":"object"}},"info":{"description":"CSP Message Bus service API documentation","title":"CSP Message Bus","version":"1.0.0"},"paths":{"/po/api/v1/events/messages/{messageID}":{"get":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"description":"Identifier for the Message","in":"path","name":"messageID","required":true,"type":"string"},{"description":"Filters the events for the Message by publisherID","in":"query","name":"publisherID","required":true,"type":"string"},{"description":"Filters the events for the Message from a given date. The date format should be YYYY-MM-DD","in":"query","name":"from","required":false,"type":"string"},{"description":"Filters the events for the Message up to a given date. The date format should be YYYY-MM-DD. Note that this should be used with from query param","in":"query","name":"to","required":false,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"$ref":"#/definitions/EventsResponse"}}},"summary":"Get all events related to a messageID and publisherID","tags":["Events"]}},"/po/api/v1/events/publishers/{publisher}":{"get":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"description":"Identifier for the Publisher","format":"uuid","in":"path","name":"publisher","required":true,"type":"string"},{"description":"Filters the events for the Publisher by message type","in":"query","name":"messageType","required":false,"type":"string"},{"description":"Filters the events for the Publisher from a given date. The date format should be YYYY-MM-DD","in":"query","name":"from","required":false,"type":"string"},{"description":"Filters the events for the Publisher up to a given date. The date format should be YYYY-MM-DD. Note that this should be used with from query param","in":"query","name":"to","required":false,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"$ref":"#/definitions/EventsResponse"}}},"summary":"Get all events related to a publisher","tags":["Events"]}},"/po/api/v1/events/subscribers/{subscriber}":{"get":{"description":"Requires csp access token with valid clientID or Platform operator permissions","parameters":[{"description":"Identifier for the Subscriber","format":"uuid","in":"path","name":"subscriber","required":true,"type":"string"},{"description":"Filters the events for the Publisher by message type","in":"query","name":"messageType","required":false,"type":"string"},{"description":"Filters the events for the Publisher from a given date. The date format should be YYYY-MM-DD","in":"query","name":"from","required":false,"type":"string"},{"description":"Filters the events for the Publisher up to a given date. The date format should be YYYY-MM-DD. Note that this should be used with from query param","in":"query","name":"to","required":false,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"$ref":"#/definitions/EventsResponse"}}},"summary":"Get all events related to a subscriber","tags":["Events"]}},"/po/api/v1/message-types":{"get":{"description":"Requires CSP user/service access token","parameters":[{"description":"ID generated by POS identifying the publisher","in":"query","name":"publisherID","required":false,"type":"string"},{"description":"Extract public message-types only","in":"query","name":"public","required":false,"type":"boolean"}],"responses":{"200":{"description":"Successful operation","schema":{"items":{"description":"Message type name","example":"my-message-type","type":"string"},"type":"array"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Gets all message types","tags":["Message Type Management"]},"post":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"in":"body","name":"messageType","required":true,"schema":{"$ref":"#/definitions/CreateMessageType"}}],"responses":{"201":{"description":"Successful operation"},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"500":{"description":"Internal Server Error"}},"summary":"Creates a new message type","tags":["Message Type Management"]}},"/po/api/v1/message-types/{messageType}":{"delete":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the message type","in":"path","name":"messageType","required":true,"type":"string"},{"description":"ID generated by POS identifying the publisher","in":"query","name":"publisherID","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation"},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Deletes a message type of the publisher from the system","tags":["Message Type Management"]},"patch":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the message type","in":"path","name":"messageType","required":true,"type":"string"},{"description":"ID generated by POS identifying the publisher","in":"query","name":"publisherID","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/PatchMessageType"}}],"responses":{"200":{"description":"Successful operation"},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Patches a message type","tags":["Message Type Management"]}},"/po/api/v1/message-types/{messageType}/attributes":{"get":{"description":"Requires CSP user/service access token","parameters":[{"description":"Identifier of the message type","in":"path","name":"messageType","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"$ref":"#/definitions/GetFilterAttributesResponse"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Gets attributes of a message type","tags":["Message Type Management"]},"patch":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the message type","in":"path","name":"messageType","required":true,"type":"string"},{"description":"Modify filter attributes of a message type","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/ModifyFilterAttributesRequest"}}],"responses":{"202":{"description":"Successful operation","schema":{"$ref":"#/definitions/FilterAttributesResponse"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"500":{"description":"Internal Server Error"}},"summary":"Patches new attributes, updates and deletes existing attributes of a message type","tags":["Message Type Management"]},"post":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the message type","in":"path","name":"messageType","required":true,"type":"string"},{"description":"Create new filter attributes of a message type","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CreateFilterAttributesRequest"}}],"responses":{"201":{"description":"Successful operation","schema":{"$ref":"#/definitions/FilterAttributesResponse"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"500":{"description":"Internal Server Error"}},"summary":"Creates new attributes of a message type","tags":["Message Type Management"]}},"/po/api/v1/message-types/{messageType}/audience":{"delete":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the message type","in":"path","name":"messageType","required":true,"type":"string"},{"description":"ID generated by POS identifying the publisher","in":"query","name":"publisherID","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation"},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Delete an audience of a message type","tags":["Message Type Audience"]},"get":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the message type","in":"path","name":"messageType","required":true,"type":"string"},{"description":"ID generated by POS identifying the publisher","in":"query","name":"publisherID","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"$ref":"#/definitions/AudienceResponse"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"500":{"description":"Internal Server Error"}},"summary":"Get the audience of a message type","tags":["Message Type Audience"]},"post":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the message type","in":"path","name":"messageType","required":true,"type":"string"},{"description":"Create an audience to a message type","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CreateMessageAudienceRequest"}}],"responses":{"201":{"description":"Successful operation","schema":{"$ref":"#/definitions/CreateMessageAudienceRequest"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"500":{"description":"Internal Server Error"}},"summary":"Creates an audience to a message type. Upon creating an audience, a subscription to the message type will be restricted only to the specficed audience.","tags":["Message Type Audience"]}},"/po/api/v1/messages":{"post":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/PublishMessage"}}],"responses":{"201":{"description":"Successful operation","schema":{"$ref":"#/definitions/PublishMessageResponse"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Publishes message","tags":["Publish Management"]}},"/po/api/v1/publishers":{"get":{"description":"To get a list of all publishers, a Platform Operator role is required. To get information on a publisher using client ID, a token with the authorized role and org ID for that publisher is required","parameters":[{"description":"Client ID of the publisher. To be used to get publisher information for that client ID","in":"query","name":"clientID","required":false,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"items":{"$ref":"#/definitions/Publisher"},"type":"array"}},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Information on the registered publishers","tags":["Publisher Management"]},"post":{"description":"Requires CSP user/service access token","parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/PublisherRequest"}}],"responses":{"201":{"description":"Successful operation","schema":{"$ref":"#/definitions/PublisherID"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"409":{"description":"Conflict"},"500":{"description":"Internal Server Error"}},"summary":"Endpoint to register publishers with","tags":["Publisher Management"]}},"/po/api/v1/publishers/{publisher}":{"delete":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the publisher","in":"path","name":"publisher","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation"},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"405":{"description":"Not Allowed"},"500":{"description":"Internal Server Error"}},"summary":"Deletes the publisher from the system","tags":["Publisher Management"]},"get":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the publisher specified","in":"path","name":"publisher","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"$ref":"#/definitions/Publisher"}},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Get the publisher info","tags":["Publisher Management"]},"patch":{"description":"Requires csp access token with orgID and role matching to the publisher orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the publisher specified","in":"path","name":"publisher","required":true,"type":"string"},{"description":"Configuration for the publisher","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/ModifyPublisherRequest"}}],"responses":{"200":{"description":"Successful operation"},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Modify the publisher attributes","tags":["Publisher Management"]}},"/po/api/v1/subscribers":{"get":{"description":"Requires csp access token with orgID and role matching to the subscriber orgID and role or Platform operator permissions","parameters":[{"description":"Client ID of the subscriber. To be used to get subscriber information for that client ID","in":"query","name":"clientID","required":false,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"items":{"$ref":"#/definitions/Subscriber"},"type":"array"}},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}},"summary":"Information on the registered subscribers","tags":["Subscriber Management"]},"post":{"description":"Requires CSP user/service access token","parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/SubscriberRequest"}}],"responses":{"201":{"description":"Successful operation","schema":{"$ref":"#/definitions/SubscriberID"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"500":{"description":"Internal Server Error"}},"summary":"Endpoint to register subscribers","tags":["Subscriber Management"]}},"/po/api/v1/subscribers/{subscriber}":{"delete":{"description":"Requires csp access token with orgID and role matching to the subscriber orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the subscriber","in":"path","name":"subscriber","required":true,"type":"string"},{"description":"Client ID of the subscriber. To be used if the service is not making the request","in":"query","name":"clientID","required":false,"type":"string"}],"responses":{"200":{"description":"Successful operation"},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"Deletes the subscriber from the system","tags":["Subscriber Management"]},"get":{"description":"Requires csp access token with orgID and role matching to the subscriber orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the subscriber","in":"path","name":"subscriber","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"$ref":"#/definitions/Subscriber"}},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"Get the subscriber info","tags":["Subscriber Management"]},"patch":{"description":"Requires csp access token with orgID and role matching to the subscriber orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the subscriber","in":"path","name":"subscriber","required":true,"type":"string"},{"description":"Modify subscriber request","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/ModifySubscriberRequest"}}],"responses":{"200":{"description":"Successful operation"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"Patch the subscriber info","tags":["Subscriber Management"]}},"/po/api/v1/subscribers/{subscriber}/auth":{"patch":{"description":"Requires csp access token with orgID and role matching to the subscriber orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the subscriber","in":"path","name":"subscriber","required":true,"type":"string"},{"description":"Client ID of the subscriber. To be used if the service is not making the request","in":"query","name":"clientID","required":false,"type":"string"},{"description":"Modify subscriber auth request","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/ModifySubscriberAuthRequest"}}],"responses":{"200":{"description":"Successful operation"},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"Updates the subscriber authentication method","tags":["Subscriber Management"]}},"/po/api/v1/subscribers/{subscriber}/dlq/messages":{"delete":{"description":"Requires csp access token with orgID and role matching to the subscriber orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the subscriber","in":"path","name":"subscriber","required":true,"type":"string"},{"description":"Delete subscriber dead letter queue messages request","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/DeleteSubscriberDLQMessagesRequest"}}],"responses":{"200":{"description":"Successful operation"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"Delete the subscriber dead letter queue messages","tags":["Subscriber Management"]},"get":{"description":"Requires csp access token with orgID and role matching to the subscriber orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the subscriber","in":"path","name":"subscriber","required":true,"type":"string"},{"description":"Set pageLimit to limit the results returned by the request","in":"query","name":"pageLimit","required":false,"type":"integer"},{"description":"Set expand to get results returned by the request","in":"query","name":"expand","required":false,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"$ref":"#/definitions/GetSubscriberDLQMessagesResponse"}},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"Get the subscriber dead letter queue messages","tags":["Subscriber Management"]}},"/po/api/v1/subscribers/{subscriber}/subscriptions":{"get":{"description":"Requires csp access token with orgID and role matching to the subscriber orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the subscriber","in":"path","name":"subscriber","required":true,"type":"string"},{"description":"Client ID of the subscriber. To be used if the service is not making the request","in":"query","name":"clientID","required":false,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"items":{"$ref":"#/definitions/Subscription"},"type":"array"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Gets information on all subscriptions for a subscriber","tags":["Subscription Management"]},"post":{"description":"Requires csp access token with orgID and role matching to the subscriber orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the subscriber","in":"path","name":"subscriber","required":true,"type":"string"},{"description":"Create subscription request","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CreateSubscriptionRequest"}}],"responses":{"201":{"description":"Successful operation","schema":{"$ref":"#/definitions/SubscriptionID"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"Subscribes to the specified message type","tags":["Subscription Management"]}},"/po/api/v1/subscribers/{subscriber}/subscriptions/{subscription}":{"delete":{"description":"Requires csp access token with orgID and role matching to the subscriber orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the subscriber","in":"path","name":"subscriber","required":true,"type":"string"},{"description":"Client ID of the subscriber. To be used if the service is not making the request","in":"query","name":"clientID","required":false,"type":"string"},{"description":"subscriptionID that needs to be deleted","in":"path","name":"subscription","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation"},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Deletes the specified subscription","tags":["Subscription Management"]},"get":{"description":"Requires csp access token with orgID and role matching to the subscriber orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the subscriber","in":"path","name":"subscriber","required":true,"type":"string"},{"description":"Client ID of the subscriber. To be used if the service is not making the request","in":"query","name":"clientID","required":false,"type":"string"},{"description":"Identifier of the subscription","in":"path","name":"subscription","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"$ref":"#/definitions/Subscription"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Gets information on a subscription","tags":["Subscription Management"]},"patch":{"description":"Requires csp access token with orgID and role matching to the subscriber orgID and role or Platform operator permissions","parameters":[{"description":"Identifier of the subscriber","in":"path","name":"subscriber","required":true,"type":"string"},{"description":"Client ID of the subscriber. To be used if the service is not making the request","in":"query","name":"clientID","required":false,"type":"string"},{"description":"Identifier of the subscription","in":"path","name":"subscription","required":true,"type":"string"},{"description":"Configuration for the subscription","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/ModifySubscription"}}],"responses":{"200":{"description":"Successful operation","schema":{"$ref":"#/definitions/Subscription"}},"400":{"description":"Invalid request body"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"summary":"Modifies configuration for the specified subscription","tags":["Subscription Management"]}}},"produces":["application/json"],"security":[{"token":[]}],"securityDefinitions":{"token":{"description":"An access token obtained from CSP","in":"header","name":"csp-auth-token","type":"apiKey"}},"swagger":"2.0","tags":[{"description":"CSP Message Bus Service Management Operations","name":"CSP Message Bus Service Management"}]}
